schema:
  schema_id: sydbj194362
  name: 声韵调并击(19-4-36-2)
  version: 1.0(20221019)
  author:
    - 张皓哲（576440085@qq.com）
  description:
  dependencies:
    # 反查方案
    - fc

switches:
  - name: zh_simp_s2t
    reset: 0
    states: [ 简, 繁 ]
  - name: ascii_punct
    reset: 0
    states: [ 。，, ．， ]
  - name: full_shape
    reset: 0
    states: [ 半, 全 ]
  - name: ascii_mode
    reset: 0
    states: [ 中, 英 ]

engine:
  processors:
    - ascii_composer
    - chord_composer
    - recognizer
    - speller
    - key_binder
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - table_translator
  filters:
    - simplifier
    - uniquifier

# 简体转繁体
simplifier:
  option_name: zh_simp_s2t
  opencc_config: s2t.json

speller:
  # 当前编码唯一自动上屏
  # 若enable_completion=true，则当前及后续编码唯一上屏（顶功）
  # 启用最大码长或自动上屏模式，则顶功失效
  # 只有选重上屏、最大码长顶上屏、自动上屏模式可以参与自动造词
  # 顶功方案无法自动造词
  auto_select: true
  # 自动清空码
  auto_clear: auto
  # 进入输入区的字符
  alphabet: 'abcdefghijklmnopqrstuvwxyz'
  # 作为开头的字符，若省略，则与alphabet相同
  #initials: 'abcdefghijklmnopqrstuvwxyz'
  algebra:

chord_composer:
  alphabet: 'qazwsxedcrfvtgbyhnujmik,ol.p;/ '
  algebra:
    # 非字母键名转换为大写字母方便处理
    - xlit|;,./ |FDJGO|
    # 用=作键位后缀区分键位和编码
    - xform/([a-zFDJGO])/$1=/
    # 123列
    # 补空码
    - xform/^([^asdqwezxc]=)/o$1/
    # 键位映射
    - xform/s=d=/z/
    - xform/w=e=/m/
    - xform/x=c=/i/
    - xform/a=s=/f/
    - xform/q=w=/r/
    - xform/z=x=/n/
    - xform/x=d=/s/
    - xform/s=e=/c/
    - xform/s=c=/p/
    - xform/a=d=/s/
    - xform/q=e=/c/
    - xform/z=c=/p/
    - xform/d=/g/
    - xform/s=/d/
    - xform/a=/h/
    - xform/e=/u/
    - xform/w=/v/
    - xform/q=/l/
    - xform/c=/k/
    - xform/x=/b/
    - xform/z=/t/
    # 45列
    # 补空码
    - xform/^(.)([^rtfgvb]=)/$1o$2/
    - xform/^(.)$/$1o/
    # 键位映射
    - xform/^(..)=/$1/
    # 67列
    # 补空码
    - xform/^(..)([^yuhjnm]=)/$1o$2/
    - xform/^(..)$/$1o/
    # 键位映射
    - xform/u=/r/
    - xform/y=/t/
    - xform/j=/f/
    - xform/h=/g/
    - xform/m=/v/
    - xform/n=/b/
    # 890列
    # 补空码
    - xform/^(...)([^iopklFDJG]=)/$1o$2/
    - xform/^(...)$/$1o/
    # 键位映射
    - xform/k=l=/z/
    - xform/i=o=/m/
    - xform/D=J=/i/
    - xform/l=F=/f/
    - xform/o=p=/r/
    - xform/J=G=/n/
    - xform/k=J=/s/
    - xform/i=l=/c/
    - xform/m=k=/p/
    - xform/k=F=/s/
    - xform/i=p=/c/
    - xform/D=G=/p/
    - xform/k=/g/
    - xform/l=/d/
    - xform/F=/h/
    - xform/i=/u/
    - xform/o=/v/
    - xform/p=/l/
    - xform/D=/k/
    - xform/J=/b/
    - xform/G=/t/
    # 空格
    - xform/^(....)O=$/$1x/
    - xform/^(....)$/$1o/
    - xform/^oooox$/ /
    # 禁止输出非法组合
    # dz1
    - xform/^(lrooo|hvooo|ofooo|voooo|goooo|doooo|vrooo|urooo|vtooo|bbooo|nbooo|lfooo|orooo|cfooo|tvooo|koooo|ltooo|dvooo|ufooo|dfooo|noooo|ogooo|sgooo|hgooo|utooo|nfooo|hoooo|sfooo|kbooo|ggooo|ovooo|rfooo|nvooo|kfooo|gfooo|zoooo|ivooo|zvooo|mrooo|bvooo|coooo|boooo|ifooo|soooo|zgooo|tfooo|gvooo|dgooo|roooo|uoooo|mfooo|mtooo|hfooo|fgooo|loooo|ffooo|ctooo|kvooo|foooo|toooo|ioooo|ibooo|bfooo|moooo|pbooo|poooo|tbooo|svooo|pvooo|fvooo|vfooo|crooo|pfooo|zfooo|rtooo|rrooo|ooogo|ooovo|oofoo|oofho|ooroo|oooho|oorlo|ooodo|oooko|oofdo|ooomo|ooolo|oooto|oooio|ooflo|ooruo|ooouo|oofgo|ooozo|oovko|oovho|ooobo|oogoo|oovbo|oovoo|oorvo|ootoo|oovgo|oofuo|ooggo|ooboo|oofvo|oovto|oovdo|oogdo|oogho)$/#$1/
    # dz2
    - xform/^(bbfd|bbfg|bbfo|bbob|bbod|bboh|bboi|bbol|bbou|bbov|bboz|bbrl|bbro|bbvb|bbvo|bffg|bffo|bfod|bfoh|bfov|bfoz|bfrl|bfro|bofd|bofg|bofo|boob|bood|booh|booi|bool|boou|boov|booz|borl|boro|borv|bovb|bovo|bvfd|bvfg|bvfo|bvob|bvod|bvoh|bvoi|bvol|bvou|bvov|bvoz|bvrl|bvro|bvrv|bvvb|bvvo|cffd|cffg|cffo|cffu|cfob|cfod|cfoh|cfok|cfol|cfov|cfoz|cfvt|cofg|cofo|cofu|coob|cood|coog|cooh|coom|coot|coov|cooz|covt|crfd|crfg|crfo|crfu|crob|crod|croh|crok|crol|crot|crov|croz|crro|crvt|ctfg|ctfo|ctfu|ctob|ctoh|ctot|ctov|dffd|dffg|dffh|dffo|dffu|dfob|dfod|dfog|dfoh|dfoi|dfok|dfom|dfot|dfou|dfov|dfoz|dfrl|dfro|dfvb|dfvo|dfvt|dgfd|dgfg|dgfo|dgfu|dggo|dgob|dgod|dgoh|dgoi|dgok|dgom|dgou|dgov|dgoz|dgro|dgvb|dgvo|dgvt|dofd|dofg|dofo|dofu|doob|dood|doog|dooh|dooi|dook|dool|doom|doot|doou|doov|dooz|doro|dovo|dovt|dvfg|dvfo|dvod|dvog|dvoh|dvrl|dvro|fffd|ffob|ffod|ffol|ffoz|ffro|ffvb|fgfd|fgob|fgod|fgol|fgom|fgoz|fgro|fgvb|fofd|foob|food|fool|fooz|foro|fovb|fvfd|fvob|fvod|fvoh|fvol|fvoz|fvro|fvvb|gfbo|gffd|gffg|gffh|gffo|gffv|gfgg|gfgo|gfob|gfod|gfog|gfoh|gfoi|gfok|gfol|gfom|gfot|gfou|gfov|gfoz|gfrl|gfro|gfru|gfrv|gfto|gfvd|gfvg|gfvh|gfvk|gfvo|gfvt|ggbo|ggfd|ggfg|ggfh|ggfo|ggfu|ggfv|gggg|gggo|ggob|ggod|ggog|ggoh|ggoi|ggok|ggol|ggom|ggot|ggou|ggov|ggoz|ggrl|ggro|ggru|ggrv|ggto|ggvb|ggvg|ggvh|ggvk|ggvo|ggvt|gobo|gofd|gofg|gofh|gofo|gofu|gofv|gogg|gogo|goob|good|goog|gooh|gooi|gook|gool|goom|goot|goou|goov|gooz|gorl|goro|goru|gorv|goto|govd|govg|govk|govo|govt|gvfo|gvgo|gvog|gvoh|gvoi|gvol|gvrl|gvro|gvru|gvto|hfbo|hffd|hffg|hffh|hffo|hffu|hffv|hfgo|hfob|hfod|hfog|hfoh|hfoi|hfok|hfol|hfom|hfot|hfou|hfov|hfoz|hfrl|hfro|hfru|hfrv|hfto|hfvb|hfvd|hfvg|hfvh|hfvk|hfvo|hfvt|hgbo|hgfg|hgfh|hgfo|hgfv|hgob|hgod|hgoh|hgoi|hgok|hgol|hgom|hgot|hgou|hgov|hgrl|hgro|hgru|hgrv|hgto|hgvk|hgvo|hgvt|hobo|hofd|hofg|hofh|hofo|hofu|hofv|hogg|hogo|hoob|hood|hoog|hooh|hooi|hook|hool|hoom|hoot|hoou|hoov|hooz|horl|horo|horu|horv|hoto|hovd|hovg|hovh|hovk|hovo|hovt|hvbo|hvfd|hvfg|hvfo|hvfu|hvfv|hvgg|hvgo|hvob|hvod|hvog|hvoh|hvoi|hvok|hvol|hvom|hvot|hvou|hvov|hvoz|hvrl|hvro|hvru|hvrv|hvto|hvvd|hvvg|hvvh|hvvk|hvvo|hvvt|ibfd|ibfg|ibfo|ibfu|ibfv|ibgg|ibob|ibod|ibog|ibok|ibol|ibom|ibov|iboz|ibro|ibvt|iffd|iffg|iffo|iffu|iffv|ifob|ifod|ifok|ifol|ifom|ifot|ifov|ifoz|ifro|ifvt|iofd|iofg|iofo|iofv|iogg|ioob|iood|ioog|iooh|iook|iool|ioom|ioov|iooz|ioro|iovt|ivfd|ivfg|ivfo|ivfu|ivfv|ivgg|ivob|ivod|ivog|ivoh|ivok|ivol|ivom|ivot|ivov|ivoz|ivro|ivvg|ivvt|kbbo|kbfg|kbfh|kbfo|kbfu|kbfv|kbgg|kbgo|kbob|kbod|kbog|kboi|kbok|kbol|kbom|kbot|kbou|kbov|kbrl|kbro|kbru|kbrv|kbvg|kbvk|kbvo|kbvt|kfbo|kffd|kffh|kffo|kffv|kfgo|kfog|kfoi|kfot|kfou|kfrl|kfru|kfrv|kfto|kfvd|kfvh|kfvk|kfvo|kobo|kofd|kofg|kofo|kofu|kofv|kogg|kogo|koob|kood|koog|kooh|kooi|kook|kool|koom|koot|koou|koov|korl|koru|korv|koto|kovg|kovk|kovo|kvbo|kvfd|kvfg|kvfh|kvfo|kvfu|kvfv|kvgo|kvob|kvod|kvog|kvoi|kvok|kvom|kvot|kvou|kvov|kvoz|kvrl|kvro|kvru|kvrv|kvto|kvvb|kvvd|kvvg|kvvk|kvvo|kvvt|lffd|lffg|lffh|lffo|lffu|lfob|lfod|lfoh|lfoi|lfok|lfom|lfou|lfov|lfoz|lfro|lfru|lfrv|lfvb|lfvk|lfvo|lfvt|lofd|lofg|lofh|lofo|lofu|loob|lood|loog|looh|looi|look|loom|loou|loov|looz|lorl|loro|loru|lorv|loto|lovb|lovk|lovo|lovt|lrfd|lrfg|lrfh|lrfo|lrfu|lrgd|lrod|lrog|lroh|lroi|lrok|lrom|lroz|lrrl|lrro|lrrv|lrvb|ltfd|ltfg|ltfh|ltfo|ltfu|ltgo|ltob|ltod|ltoh|ltoi|ltok|ltom|ltou|ltoz|ltrl|ltro|ltru|ltrv|ltvb|ltvk|ltvo|ltvt|mffd|mffg|mffo|mfob|mfod|mfoh|mfoi|mfol|mfom|mfou|mfov|mfoz|mfro|mfrv|mfvb|mfvo|mofg|mofh|mofo|moob|mood|mooh|mooi|mool|moou|moov|mooz|morl|moro|movb|movo|mrfd|mrfg|mrfo|mrob|mrog|mroh|mroi|mrol|mrom|mroz|mrrl|mrro|mtfd|mtfg|mtfo|mtob|mtod|mtoh|mtoi|mtom|mtou|mtov|mtoz|mtro|mtrv|mtvb|mtvo|nbfd|nbfg|nbfh|nbfo|nbob|nbod|nboi|nbou|nbov|nbro|nbru|nbvb|nbvo|nbvt|nffd|nffg|nffh|nffo|nfob|nfod|nfog|nfoh|nfok|nfou|nfoz|nfro|nfrv|nfvk|nfvo|nofd|nofg|nofh|nofo|noob|nood|noog|nooh|nooi|nook|nool|noom|noou|noov|norl|noro|noru|noto|novb|novk|novo|nvfd|nvfg|nvfh|nvfo|nvob|nvog|nvou|nvrl|nvro|ofbo|offd|offg|offh|offo|offu|offv|ofgd|ofgg|ofgh|ofgo|ofob|ofod|ofog|ofoh|ofoi|ofok|ofol|ofom|ofot|ofou|ofov|ofoz|ofrl|ofro|ofru|ofrv|ofto|ofvb|ofvd|ofvg|ofvh|ofvk|ofvo|ofvt|ogbo|ogfg|ogfh|ogfl|ogfo|ogfu|ogfv|oggd|oggg|oggo|ogob|ogod|ogog|ogoh|ogoi|ogok|ogol|ogom|ogot|ogou|ogov|ogrl|ogro|ogru|ogrv|ogto|ogvb|ogvd|ogvg|ogvh|ogvk|ogvo|ogvt|orbo|orfd|orfg|orfh|orfl|orfo|orfu|orfv|orgd|orgg|orgo|orob|orod|orog|oroh|oroi|orok|orol|orom|orot|orou|orov|orrl|orro|orru|orrv|orto|orvb|orvd|orvg|orvh|orvk|orvo|orvt|ovbo|ovfd|ovfg|ovfh|ovfl|ovfo|ovfu|ovfv|ovgd|ovgo|ovod|ovog|ovoi|ovol|ovot|ovou|ovov|ovrl|ovro|ovru|ovrv|ovvb|ovvd|ovvg|ovvh|ovvk|ovvo|ovvt|pbfd|pbfg|pbfo|pbod|pboh|pboi|pbom|pbou|pbov|pboz|pbrl|pbrv|pffd|pffg|pffo|pfob|pfod|pfoh|pfoi|pfol|pfom|pfou|pfov|pfoz|pfro|pfrv|pfvb|pfvo|pofd|pofg|pofo|poob|pood|pooh|pooi|pool|poou|poov|pooz|poro|porv|povb|pvfd|pvfg|pvfo|pvob|pvod|pvoh|pvoi|pvol|pvom|pvou|pvov|pvoz|pvrl|pvro|pvrv|pvvb|pvvo|rffd|rffg|rfob|rfod|rfoh|rfok|rfol|rfom|rfot|rfoz|rfvg|rfvt|rofd|rofg|rofo|rofu|rood|roog|rooh|rool|room|root|rrfd|rroz|rtfd|rtfg|rtob|rtod|rtog|rtok|rtol|rtot|rtvt|sffd|sffg|sffo|sffu|sfob|sfod|sfoh|sfok|sfol|sfom|sfot|sfov|sfoz|sfro|sfvt|sgfd|sgfg|sgfo|sgfu|sgob|sgoh|sgok|sgom|sgot|sgro|sofd|sofg|sofo|soob|sood|soog|sook|soom|soot|soov|soro|sovt|svod|svot|tbfd|tbfg|tbfo|tbob|tbod|tboh|tboi|tbok|tbom|tbot|tbou|tbov|tbrl|tbro|tbvo|tbvt|tffd|tffg|tffo|tffu|tfob|tfod|tfoh|tfoi|tfok|tfom|tfot|tfou|tfov|tfoz|tfvo|tfvt|tofd|tofg|tofo|tofu|toob|tood|toog|tooh|tooi|took|toom|toot|toou|toov|torl|toro|tovo|tovt|tvfd|tvfg|tvfo|tvfu|tvob|tvod|tvoh|tvoi|tvok|tvom|tvot|tvou|tvov|tvoz|tvrl|tvro|tvvb|tvvo|tvvt|uffg|uffo|ufod|ufog|ufol|ufom|ufot|ufoz|ufro|ufvb|uofd|uofg|uofo|uofu|uogg|uoob|uood|uoog|uooh|uool|uoom|uoot|uoov|uooz|uoro|uovg|uovt|urfd|urfg|urfo|urfv|urgg|urob|urod|urog|uroh|urol|urom|urov|uroz|urro|urvg|urvt|utfd|utfg|utfo|utfu|utfv|utgg|utob|utod|utog|utol|utom|utot|utov|utoz|utro|utvg|vffg|vffo|vfod|vfog|vfoh|vfom|vfov|vfro|vofd|vofg|vofo|vofv|vogg|voob|vood|voog|vook|vool|voom|voot|voov|vooz|voro|vovb|vovt|vrfd|vrfg|vrfo|vrfu|vrfv|vrgg|vrob|vrod|vrog|vroh|vrok|vrol|vrom|vrot|vrov|vroz|vrro|vrvg|vrvt|vtfd|vtfg|vtfo|vtfu|vtfv|vtob|vtod|vtog|vtok|vtol|vtom|vtov|vtoz|vtro|vtvg|vtvt|zffd|zffg|zffo|zffu|zfob|zfod|zfoh|zfok|zfom|zfov|zfoz|zfro|zfvt|zgfd|zgfg|zgfo|zgfu|zgob|zgod|zgoh|zgok|zgol|zgom|zgot|zgov|zgro|zgvt|zofd|zofg|zofo|zoob|zoog|zooh|zook|zool|zoom|zoot|zoov|zooz|zovt|zvfg|zvob|zvod|zvog|zvoh|zvro|zvvb)([ox])$/#$1$2/
    # dz3
    - xform/^(hooo|ovoo|oood|ofoo|oovo|tooo|oool|ooto|oobo|ooou|vooo|oofo|ooov|oogo|booo|oboo|ooro|gooo|oroo|ooog|looo|otoo|ogoo|kooo|dooo|uooo)([ox])$/#$1$2/
    # fh
    - xform/^(looox|vooox|uooox|oroox|otoox|hooox|dooox|gooox|ofoox|ogoox|tooox|booox|kooox|ovoox|oboox|gfoox|zooox|dfoox|hfoox|uroox|mooox|vroox|lroox|kvoox|iooox|bvoox|tvoox|ooolx|ooovx|oooux|oorox|ootox|ooohx|ooodx|ooogx|oofox|oogox|oootx|ooobx|oookx|oovox|oobox|oofgx|ooozx|oofdx|oofhx|oorux|ooomx|oorvx|oorlx|oovkx|oooix|oovbx|oovtx)$/#$1/
#    - xform/^(....[ox])$/#$1/
    - erase/^[^#\d ].*//
    - xform/#//
  # 并击过程中套用的式样
  prompt_format:
    # 过程编码不显示
    - xform/.*//

translator:
  dictionary: sydbj194362
  enable_charset_filter: false  # 字符集过滤
  enable_completion: true  # 显示编码未输入完整的词条
  enable_sentence: false  # 整句模式
  enable_user_dict: false  # 用户词典（用户词典记录动态字词频，用户词）
  enable_encoder: false  # 自动编码
  encode_commit_history: false  # 上屏组词
  # 编码区格式
  preedit_format:
  # 提示区格式
  comment_format:
    - xform/.*//
    
# 反查
reverse_lookup:
  # 默认笔画反查，可以自行修改
  dictionary: fc
  enable_completion: true
  prefix: "`"  # 反查前缀
  suffix: "'"
  tips: 【反查】
  preedit_format:
  comment_format:

# 符号
punctuator:
  import_preset: symbols_sydbj

# 功能键、组合键功能
key_binder:
  bindings:
    - { accept: BackSpace, send: Escape, when: composing }
    - { accept: bracketleft, send: Page_Up, when: paging }
    - { accept: bracketright, send: Page_Down, when: has_menu }
    #- { accept: Tab, send: "Shift+Right", when: composing }
    #- { accept: "Shift+Tab", send: "Shift+Left", when: composing }
    #- { accept: "Shift+Shift_R", select: .next, when: always }

# 进入翻译器前的模式判断，符合模式的会进入对应的翻译器
recognizer:
  patterns:
    # 用\引导其他符号
    punct: '^\\([0-9]0?|[A-Za-z*\[\]\{\}\$%#~`\\|/=<>]+)?$'
    # 用`引导反查
    reverse_lookup: "`[12345]*'?$"
    # 保留编码，确保空码能到清码位(10,15)被清除
    hold2: "^[a-z][a-z]"
    hold3: "^[a-z][a-z][a-z]"
    hold4: "^[a-z][a-z][a-z][a-z]"
    hold5: "^([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)o"
    hold6: "^([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)o[a-z]"
    hold7: "^([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)o[a-z][a-z]"
    hold8: "^([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)o[a-z][a-z][a-z]"
    hold9: "^([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)o[a-z][a-z][a-z][a-z]"
    hold10: "^[a-z]{4}o([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)x"
    hold11: "^[a-z]{4}o([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)x[a-z]"
    hold12: "^[a-z]{4}o([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)x[a-z][a-z]"
    hold13: "^[a-z]{4}o([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)x[a-z][a-z][a-z]"
    hold14: "^[a-z]{4}o([a-z][a-np-z]|[a-np-z]o)([a-z][a-np-z]|[a-np-z]o)x[a-z][a-z][a-z][a-z]"
